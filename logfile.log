2014-04-07 12:55:10,200 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 12:55:10,205 [main] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 12:55:10 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 12:55:10,206 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 12:55:10,255 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 12:55:10,255 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 12:55:10,285 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 12:55:10,355 [main] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 12:55:10,371 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@19ab759c: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1435c350
2014-04-07 12:55:10,403 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 12:55:10,404 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 12:55:10,404 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 12:55:10,404 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 12:55:10,405 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 12:55:10,406 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 12:55:10,406 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/admin/],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 12:55:10,407 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 12:55:10,407 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 12:55:10,409 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 12:55:10,409 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 12:55:10,409 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 12:55:10,410 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 12:55:10,793 [main] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 12:55:10,795 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 12:55:10,795 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 12:55:10,802 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 12:55:10,803 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 12:55:10,803 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 12:55:10,805 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 12:55:10,805 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 12:55:10,808 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 12:55:10,809 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 12:55:10,809 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 12:55:10,810 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 12:55:10,810 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 12:55:10,811 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 12:55:10,812 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 12:55:10,812 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 12:55:10,813 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 12:55:10,816 [main] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 12:55:10,816 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 12:55:10,820 [main] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 12:55:10,862 [main] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 12:55:10,863 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 12:55:10,863 [main] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 12:55:10,863 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 12:55:10,863 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 12:55:10,863 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 12:55:10,863 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 12:55:10,863 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 12:55:10,864 [main] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 12:55:10,871 [main] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 12:55:10,899 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 12:55:10,899 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 12:55:10,899 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 12:55:10,926 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 12:55:10,943 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 12:55:10,943 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 12:55:10,943 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 12:55:10,943 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 12:55:10,967 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 12:55:10,967 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 12:55:10,967 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 12:55:10,967 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 12:55:10,975 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 12:55:10,975 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 12:55:10,975 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 12:55:10,975 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 12:55:10,983 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 12:55:10,983 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 12:55:10,983 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 12:55:10,983 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 12:55:10,993 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 12:55:10,993 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 12:55:10,993 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 12:55:10,993 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 12:55:11,005 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 12:55:11,005 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 12:55:11,005 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 12:55:11,005 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 12:55:11,015 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 12:55:11,015 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 12:55:11,015 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 12:55:11,015 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 12:55:11,025 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 12:55:11,025 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 12:55:11,025 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 12:55:11,025 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 12:55:11,034 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 12:55:11,035 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 12:55:11,035 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 12:55:11,035 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 12:55:11,044 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 12:55:11,044 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 12:55:11,044 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 12:55:11,044 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 12:55:11,054 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 12:55:11,054 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 12:55:11,054 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 12:55:11,054 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 12:55:11,055 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 12:55:11,094 [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 12:55:11,099 [main] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@7a833cd3] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 12:55:11,137 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 937 ms
2014-04-07 12:56:36,140 [qtp1500234658-22] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:56:36,141 [qtp1500234658-22] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:56:38,804 [qtp1500234658-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:56:38,969 [qtp1500234658-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:56:38,969 [qtp1500234658-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:56:44,230 [qtp1500234658-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:56:44,230 [qtp1500234658-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:59:03,735 [qtp1500234658-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 12:59:03,736 [qtp1500234658-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:07:49,342 [Scanner-0] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Closing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 12:55:10 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:07:49,345 [Scanner-0] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@19ab759c: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1435c350
2014-04-07 13:07:49,355 [Scanner-0] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Closing Hibernate SessionFactory
2014-04-07 13:07:49,355 [Scanner-0] INFO  org.hibernate.impl.SessionFactoryImpl - closing
2014-04-07 13:08:01,676 [Scanner-0] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 13:08:01,681 [Scanner-0] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:08:01 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:08:01,683 [Scanner-0] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 13:08:01,757 [Scanner-0] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 13:08:01,757 [Scanner-0] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 13:08:01,788 [Scanner-0] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 13:08:02,084 [Scanner-0] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 13:08:02,105 [Scanner-0] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@35985b96: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@2b02c8a0
2014-04-07 13:08:02,144 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 13:08:02,144 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 13:08:02,144 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 13:08:02,147 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 13:08:02,147 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 13:08:02,148 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 13:08:02,148 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 13:08:02,149 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 13:08:02,149 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:08:02,151 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 13:08:02,151 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:08:02,151 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 13:08:02,151 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 13:08:02,248 [Scanner-0] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 13:08:02,251 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 13:08:02,251 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 13:08:02,260 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 13:08:02,260 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 13:08:02,260 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 13:08:02,262 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 13:08:02,262 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 13:08:02,265 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 13:08:02,265 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 13:08:02,265 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 13:08:02,267 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 13:08:02,267 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 13:08:02,267 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 13:08:02,269 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 13:08:02,269 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 13:08:02,269 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 13:08:02,272 [Scanner-0] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 13:08:02,272 [Scanner-0] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 13:08:02,275 [Scanner-0] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 13:08:02,290 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 13:08:02,290 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 13:08:02,290 [Scanner-0] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 13:08:02,291 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 13:08:02,292 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 13:08:02,292 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 13:08:02,292 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 13:08:02,292 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 13:08:02,292 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 13:08:02,292 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 13:08:02,298 [Scanner-0] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 13:08:02,324 [Scanner-0] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 13:08:02,324 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 13:08:02,324 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 13:08:02,334 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 13:08:02,343 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 13:08:02,343 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 13:08:02,343 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:08:02,343 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 13:08:02,351 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 13:08:02,351 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 13:08:02,351 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:08:02,351 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:08:02,358 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 13:08:02,358 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 13:08:02,358 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:08:02,358 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:08:02,365 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 13:08:02,365 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 13:08:02,365 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:08:02,365 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 13:08:02,373 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 13:08:02,373 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 13:08:02,373 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:08:02,373 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:08:02,380 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 13:08:02,380 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 13:08:02,380 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 13:08:02,380 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 13:08:02,386 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 13:08:02,387 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 13:08:02,387 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 13:08:02,387 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 13:08:02,393 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 13:08:02,393 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:08:02,393 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 13:08:02,393 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 13:08:02,400 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 13:08:02,400 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:08:02,400 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 13:08:02,400 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 13:08:02,406 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 13:08:02,407 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 13:08:02,407 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 13:08:02,407 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 13:08:02,413 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 13:08:02,413 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 13:08:02,414 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 13:08:02,414 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 13:08:02,414 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 13:08:02,445 [Scanner-0] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 13:08:02,448 [Scanner-0] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@bf8ef61] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 13:08:02,479 [Scanner-0] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 803 ms
2014-04-07 13:09:54,788 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 13:09:54,797 [main] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:09:54 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:09:54,798 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 13:09:54,871 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 13:09:54,872 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 13:09:54,898 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 13:09:54,959 [main] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 13:09:54,974 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@15e7f55: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@47764865
2014-04-07 13:09:55,002 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 13:09:55,003 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 13:09:55,003 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 13:09:55,003 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 13:09:55,004 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 13:09:55,005 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 13:09:55,005 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/sendRequest1],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 13:09:55,006 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 13:09:55,006 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:09:55,008 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 13:09:55,008 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:09:55,009 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 13:09:55,009 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 13:09:55,161 [main] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 13:09:55,163 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 13:09:55,164 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 13:09:55,170 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 13:09:55,170 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 13:09:55,171 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 13:09:55,172 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 13:09:55,173 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 13:09:55,176 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 13:09:55,177 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 13:09:55,177 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 13:09:55,179 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 13:09:55,179 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 13:09:55,179 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 13:09:55,181 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 13:09:55,181 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 13:09:55,181 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 13:09:55,185 [main] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 13:09:55,185 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 13:09:55,188 [main] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 13:09:55,205 [main] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 13:09:55,205 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 13:09:55,205 [main] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 13:09:55,206 [main] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 13:09:55,207 [main] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 13:09:55,214 [main] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 13:09:55,236 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 13:09:55,236 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 13:09:55,236 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 13:09:55,453 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 13:09:55,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 13:09:55,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 13:09:55,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:09:55,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 13:09:55,471 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 13:09:55,472 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 13:09:55,472 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:09:55,472 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:09:55,481 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 13:09:55,481 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 13:09:55,481 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:09:55,481 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:09:55,488 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 13:09:55,489 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 13:09:55,489 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:09:55,489 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 13:09:55,498 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 13:09:55,498 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 13:09:55,499 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:09:55,499 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:09:55,507 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 13:09:55,507 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 13:09:55,507 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 13:09:55,507 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 13:09:55,516 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 13:09:55,516 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 13:09:55,516 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 13:09:55,516 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 13:09:55,525 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 13:09:55,525 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:09:55,525 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 13:09:55,525 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 13:09:55,534 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 13:09:55,534 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:09:55,534 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 13:09:55,534 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 13:09:55,542 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 13:09:55,542 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 13:09:55,542 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 13:09:55,542 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 13:09:55,553 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 13:09:55,553 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 13:09:55,553 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 13:09:55,553 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 13:09:55,554 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 13:09:55,598 [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 13:09:55,602 [main] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@605b7bd1] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 13:09:55,663 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 875 ms
2014-04-07 13:10:22,673 [qtp483952333-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:10:22,674 [qtp483952333-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:10:24,547 [qtp483952333-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:10:24,547 [qtp483952333-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:10:31,129 [qtp483952333-17] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:10:31,129 [qtp483952333-17] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:25,689 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 13:18:25,694 [main] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:18:25 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:18:25,695 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 13:18:25,740 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 13:18:25,740 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 13:18:25,764 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 13:18:25,822 [main] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 13:18:25,835 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@4a6786a3: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@29bbbce6
2014-04-07 13:18:25,860 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 13:18:25,860 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 13:18:25,861 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 13:18:25,861 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 13:18:25,861 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 13:18:25,862 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/sendRequest1],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 13:18:25,863 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 13:18:25,863 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 13:18:25,864 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:18:25,865 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 13:18:25,866 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 13:18:25,867 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 13:18:25,867 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:18:26,019 [main] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 13:18:26,022 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 13:18:26,022 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 13:18:26,028 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 13:18:26,029 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 13:18:26,029 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 13:18:26,031 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 13:18:26,031 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 13:18:26,035 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 13:18:26,035 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 13:18:26,035 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 13:18:26,037 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 13:18:26,037 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 13:18:26,037 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 13:18:26,039 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 13:18:26,039 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 13:18:26,039 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 13:18:26,043 [main] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 13:18:26,043 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 13:18:26,047 [main] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 13:18:26,272 [main] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 13:18:26,272 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 13:18:26,272 [main] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 13:18:26,273 [main] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 13:18:26,274 [main] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 13:18:26,274 [main] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 13:18:26,274 [main] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 13:18:26,274 [main] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 13:18:26,274 [main] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 13:18:26,274 [main] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 13:18:26,281 [main] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 13:18:26,306 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 13:18:26,306 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 13:18:26,306 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 13:18:26,345 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 13:18:26,362 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 13:18:26,362 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 13:18:26,362 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:18:26,362 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 13:18:26,388 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 13:18:26,388 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 13:18:26,388 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:18:26,388 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:18:26,396 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 13:18:26,396 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 13:18:26,396 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:18:26,396 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:18:26,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 13:18:26,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 13:18:26,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:18:26,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 13:18:26,421 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 13:18:26,421 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 13:18:26,421 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:18:26,421 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:18:26,432 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 13:18:26,432 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 13:18:26,432 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 13:18:26,432 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 13:18:26,443 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 13:18:26,443 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 13:18:26,443 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 13:18:26,443 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 13:18:26,453 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 13:18:26,454 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:18:26,454 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 13:18:26,454 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 13:18:26,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 13:18:26,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:18:26,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 13:18:26,463 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 13:18:26,473 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 13:18:26,473 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 13:18:26,473 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 13:18:26,473 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 13:18:26,482 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 13:18:26,483 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 13:18:26,483 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 13:18:26,483 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 13:18:26,484 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 13:18:26,521 [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 13:18:26,524 [main] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@53aca407] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 13:18:26,567 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 878 ms
2014-04-07 13:18:41,319 [qtp1717833053-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:41,320 [qtp1717833053-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:43,307 [qtp1717833053-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:43,307 [qtp1717833053-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:52,102 [qtp1717833053-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:52,102 [qtp1717833053-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:52,662 [qtp1717833053-22] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:52,662 [qtp1717833053-22] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:54,813 [qtp1717833053-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:54,813 [qtp1717833053-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:55,152 [qtp1717833053-16] INFO  com.selfmash.controller.UserPageController - java.lang.NullPointerException
2014-04-07 13:18:56,165 [qtp1717833053-22] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:56,344 [qtp1717833053-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:56,344 [qtp1717833053-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:18:56,575 [qtp1717833053-20] INFO  com.selfmash.controller.UserPageController - java.lang.NullPointerException
2014-04-07 13:19:05,305 [qtp1717833053-22] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:19:05,305 [qtp1717833053-22] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:19:05,803 [qtp1717833053-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:19:05,803 [qtp1717833053-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:20:53,851 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 13:20:53,857 [main] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:20:53 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:20:53,859 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 13:20:53,902 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 13:20:53,902 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 13:20:53,929 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 13:20:54,209 [main] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 13:20:54,238 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@345a656a: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@48f5716a
2014-04-07 13:20:54,277 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 13:20:54,300 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 13:20:54,300 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 13:20:54,300 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 13:20:54,301 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 13:20:54,302 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/sendRequest1],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 13:20:54,302 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 13:20:54,303 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 13:20:54,304 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:20:54,305 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 13:20:54,305 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 13:20:54,306 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 13:20:54,306 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:20:54,526 [main] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 13:20:54,528 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 13:20:54,528 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 13:20:54,536 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 13:20:54,536 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 13:20:54,536 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 13:20:54,538 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 13:20:54,538 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 13:20:54,541 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 13:20:54,542 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 13:20:54,542 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 13:20:54,543 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 13:20:54,543 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 13:20:54,543 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 13:20:54,545 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 13:20:54,545 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 13:20:54,545 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 13:20:54,549 [main] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 13:20:54,549 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 13:20:54,553 [main] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 13:20:54,574 [main] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 13:20:54,574 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 13:20:54,574 [main] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 13:20:54,575 [main] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 13:20:54,576 [main] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 13:20:54,576 [main] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 13:20:54,576 [main] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 13:20:54,576 [main] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 13:20:54,584 [main] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 13:20:54,608 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 13:20:54,608 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 13:20:54,608 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 13:20:54,619 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 13:20:54,629 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 13:20:54,629 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 13:20:54,629 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:20:54,629 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 13:20:54,637 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 13:20:54,637 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 13:20:54,637 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:20:54,637 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:20:54,645 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 13:20:54,645 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 13:20:54,645 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:20:54,645 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:20:54,652 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 13:20:54,652 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 13:20:54,652 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:20:54,652 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 13:20:54,662 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 13:20:54,662 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 13:20:54,662 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:20:54,662 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:20:54,672 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 13:20:54,673 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 13:20:54,673 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 13:20:54,673 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 13:20:54,681 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 13:20:54,681 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 13:20:54,681 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 13:20:54,681 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 13:20:54,689 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 13:20:54,689 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:20:54,689 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 13:20:54,689 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 13:20:54,697 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 13:20:54,697 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:20:54,697 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 13:20:54,697 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 13:20:54,704 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 13:20:54,704 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 13:20:54,704 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 13:20:54,705 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 13:20:54,712 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 13:20:54,712 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 13:20:54,712 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 13:20:54,712 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 13:20:54,713 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 13:20:54,747 [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 13:20:54,751 [main] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@3cec19fb] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 13:20:54,798 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 946 ms
2014-04-07 13:21:51,968 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:51,968 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:53,826 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:53,826 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:55,048 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:55,048 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:55,607 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:55,607 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:59,724 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:21:59,724 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,047 [qtp865743599-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,058 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,067 [qtp865743599-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,108 [qtp865743599-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,113 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,125 [qtp865743599-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,185 [qtp865743599-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,218 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,226 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,387 [qtp865743599-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,395 [qtp865743599-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,400 [qtp865743599-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,427 [qtp865743599-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,451 [qtp865743599-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,496 [qtp865743599-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,533 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,560 [qtp865743599-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,592 [qtp865743599-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,599 [qtp865743599-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,675 [qtp865743599-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:22:01,675 [qtp865743599-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:24,385 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 13:23:24,390 [main] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:23:24 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:23:24,391 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 13:23:24,686 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 13:23:24,686 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 13:23:24,740 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 13:23:24,813 [main] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 13:23:24,842 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@319268b4: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@30e780b0
2014-04-07 13:23:24,913 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 13:23:24,928 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 13:23:24,928 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 13:23:24,929 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 13:23:24,929 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 13:23:24,930 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 13:23:24,930 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/sendRequest1],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 13:23:24,931 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 13:23:24,932 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:23:24,933 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 13:23:24,934 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:23:24,934 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 13:23:24,934 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 13:23:25,137 [main] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 13:23:25,139 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 13:23:25,140 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 13:23:25,145 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 13:23:25,146 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 13:23:25,146 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 13:23:25,148 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 13:23:25,148 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 13:23:25,151 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 13:23:25,151 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 13:23:25,151 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 13:23:25,154 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 13:23:25,155 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 13:23:25,155 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 13:23:25,156 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 13:23:25,156 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 13:23:25,157 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 13:23:25,160 [main] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 13:23:25,160 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 13:23:25,164 [main] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 13:23:25,280 [main] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 13:23:25,280 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 13:23:25,281 [main] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 13:23:25,282 [main] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 13:23:25,289 [main] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 13:23:25,311 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 13:23:25,311 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 13:23:25,311 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 13:23:25,325 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 13:23:25,336 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 13:23:25,336 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 13:23:25,336 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:23:25,336 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 13:23:25,344 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 13:23:25,344 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 13:23:25,344 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:23:25,344 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:23:25,351 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 13:23:25,351 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 13:23:25,351 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:23:25,351 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:23:25,359 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 13:23:25,359 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 13:23:25,359 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:23:25,359 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 13:23:25,369 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 13:23:25,369 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 13:23:25,369 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:23:25,370 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:23:25,377 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 13:23:25,377 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 13:23:25,377 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 13:23:25,378 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 13:23:25,385 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 13:23:25,385 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 13:23:25,385 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 13:23:25,385 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 13:23:25,392 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 13:23:25,393 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:23:25,393 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 13:23:25,393 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 13:23:25,400 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 13:23:25,400 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:23:25,400 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 13:23:25,401 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 13:23:25,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 13:23:25,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 13:23:25,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 13:23:25,408 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 13:23:25,416 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 13:23:25,416 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 13:23:25,416 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 13:23:25,416 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 13:23:25,417 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 13:23:25,453 [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 13:23:25,456 [main] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@47fccd53] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 13:23:25,501 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 1116 ms
2014-04-07 13:23:28,529 [qtp1173597295-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:28,529 [qtp1173597295-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:30,905 [qtp1173597295-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:30,908 [qtp1173597295-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:32,010 [qtp1173597295-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:32,011 [qtp1173597295-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:32,605 [qtp1173597295-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:32,605 [qtp1173597295-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:33,904 [qtp1173597295-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:33,904 [qtp1173597295-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:34,199 [qtp1173597295-14] INFO  com.selfmash.controller.UserPageController - java.lang.NullPointerException
2014-04-07 13:23:35,293 [qtp1173597295-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:35,294 [qtp1173597295-20] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:35,501 [qtp1173597295-20] INFO  com.selfmash.controller.UserPageController - java.lang.NullPointerException
2014-04-07 13:23:38,729 [qtp1173597295-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:38,729 [qtp1173597295-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:40,313 [qtp1173597295-17] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:23:40,313 [qtp1173597295-17] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:24:32,192 [qtp1173597295-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:24:32,208 [qtp1173597295-13] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:24:32,244 [qtp1173597295-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:24:37,616 [qtp1173597295-17] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:24:37,683 [qtp1173597295-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:25:19,730 [qtp1173597295-13] WARN  org.springframework.web.servlet.PageNotFound - No mapping found for HTTP request with URI [/admin/sendRequest1] in DispatcherServlet with name 'main'
2014-04-07 13:25:20,128 [qtp1173597295-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:25:20,128 [qtp1173597295-15] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:26:17,878 [Scanner-0] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Closing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:23:24 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:26:17,880 [Scanner-0] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@319268b4: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@30e780b0
2014-04-07 13:26:17,886 [Scanner-0] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Closing Hibernate SessionFactory
2014-04-07 13:26:17,886 [Scanner-0] INFO  org.hibernate.impl.SessionFactoryImpl - closing
2014-04-07 13:26:36,688 [Scanner-0] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 13:26:36,694 [Scanner-0] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:26:36 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:26:36,695 [Scanner-0] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 13:26:36,732 [Scanner-0] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 13:26:36,732 [Scanner-0] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 13:26:36,755 [Scanner-0] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 13:26:36,877 [Scanner-0] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 13:26:36,887 [Scanner-0] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@575e2d6c: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@27119ea8
2014-04-07 13:26:36,918 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 13:26:36,918 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 13:26:36,918 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 13:26:36,918 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 13:26:36,919 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 13:26:36,919 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 13:26:36,919 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/sendRequest1],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 13:26:36,920 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 13:26:36,921 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:26:36,922 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 13:26:36,922 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:26:36,922 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 13:26:36,923 [Scanner-0] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 13:26:37,049 [Scanner-0] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 13:26:37,051 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 13:26:37,051 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 13:26:37,059 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 13:26:37,060 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 13:26:37,060 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 13:26:37,062 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 13:26:37,062 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 13:26:37,066 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 13:26:37,066 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 13:26:37,066 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 13:26:37,068 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 13:26:37,069 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 13:26:37,069 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 13:26:37,071 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 13:26:37,072 [Scanner-0] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 13:26:37,072 [Scanner-0] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 13:26:37,081 [Scanner-0] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 13:26:37,081 [Scanner-0] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 13:26:37,085 [Scanner-0] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 13:26:37,098 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 13:26:37,098 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 13:26:37,098 [Scanner-0] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 13:26:37,099 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 13:26:37,100 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 13:26:37,100 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 13:26:37,100 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 13:26:37,100 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 13:26:37,100 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 13:26:37,100 [Scanner-0] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 13:26:37,105 [Scanner-0] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 13:26:37,125 [Scanner-0] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 13:26:37,125 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 13:26:37,125 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 13:26:37,135 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 13:26:37,157 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 13:26:37,157 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 13:26:37,157 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:26:37,157 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 13:26:37,168 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 13:26:37,168 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 13:26:37,168 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:26:37,168 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:26:37,174 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 13:26:37,174 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 13:26:37,174 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:26:37,174 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:26:37,180 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 13:26:37,181 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 13:26:37,181 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:26:37,181 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 13:26:37,189 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 13:26:37,189 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 13:26:37,189 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:26:37,189 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:26:37,196 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 13:26:37,196 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 13:26:37,196 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 13:26:37,196 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 13:26:37,203 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 13:26:37,203 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 13:26:37,203 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 13:26:37,203 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 13:26:37,210 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 13:26:37,210 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:26:37,210 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 13:26:37,210 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 13:26:37,217 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 13:26:37,217 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:26:37,217 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 13:26:37,217 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 13:26:37,224 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 13:26:37,224 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 13:26:37,224 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 13:26:37,224 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 13:26:37,231 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 13:26:37,231 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 13:26:37,231 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 13:26:37,231 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 13:26:37,232 [Scanner-0] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 13:26:37,263 [Scanner-0] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 13:26:37,266 [Scanner-0] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@50251cb8] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 13:26:37,330 [Scanner-0] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 641 ms
2014-04-07 13:29:52,230 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization started
2014-04-07 13:29:52,235 [main] INFO  org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'main-servlet': startup date [Mon Apr 07 13:29:52 EEST 2014]; parent: Root WebApplicationContext
2014-04-07 13:29:52,236 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/main-servlet.xml]
2014-04-07 13:29:52,280 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2014-04-07 13:29:52,280 [main] INFO  org.springframework.context.annotation.ClassPathBeanDefinitionScanner - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2014-04-07 13:29:52,306 [main] INFO  org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernate-context.xml]
2014-04-07 13:29:52,364 [main] INFO  org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2014-04-07 13:29:52,375 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@3b0df06d: defining beans [mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,customUserDetailsService,accessController,adminController,registrationUserController,userPageController,userPhotoController,estimationDAOImpl,photoDAOImpl,roleDAOImpl,userDAOImpl,estimationServiceImpl,photoServiceImpl,roleService,userServiceImpl,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.view.InternalResourceViewResolver#0,multipartResolver,org.springframework.web.servlet.handler.MappedInterceptor#1,org.springframework.web.servlet.handler.MappedInterceptor#2,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,hibernateTransactionManager,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@22b13ad3
2014-04-07 13:29:52,399 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/error-login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.errorLogin()
2014-04-07 13:29:52,399 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.openIndexPage()
2014-04-07 13:29:52,399 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/index],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.welcomePage()
2014-04-07 13:29:52,399 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/logout],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.logout()
2014-04-07 13:29:52,400 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/login],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AccessController.login()
2014-04-07 13:29:52,400 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.showAdminPage()
2014-04-07 13:29:52,401 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/admin/sendRequest1],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.AdminController.performFirstRequest(int,int,int,int,int,int)
2014-04-07 13:29:52,402 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/reg],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.RegistrationUserController.addUser(com.selfmash.checking.RegistrationUserValidation,org.springframework.validation.BindingResult,java.util.Map<java.lang.String, com.selfmash.checking.RegistrationUserValidation>,javax.servlet.http.HttpServletRequest) throws java.text.ParseException
2014-04-07 13:29:52,402 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPageController.showUserPage(java.lang.String,org.springframework.ui.ModelMap,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:29:52,404 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/delete/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.deletePhoto(long,java.security.Principal)
2014-04-07 13:29:52,404 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.estimatePhoto(long,java.security.Principal,javax.servlet.http.HttpServletRequest)
2014-04-07 13:29:52,404 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/{id}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.showUserSelectedPhoto(long,java.lang.String,javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)
2014-04-07 13:29:52,405 [main] INFO  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped "{[/{login}/photo/upload],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.selfmash.controller.UserPhotoController.handleFileUpload(org.springframework.web.multipart.MultipartFile,org.springframework.ui.Model,java.security.Principal) throws java.io.IOException
2014-04-07 13:29:52,546 [main] INFO  org.springframework.jdbc.datasource.DriverManagerDataSource - Loaded JDBC driver: com.mysql.jdbc.Driver
2014-04-07 13:29:52,548 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.User
2014-04-07 13:29:52,549 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.User on table USERS
2014-04-07 13:29:52,556 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.User -> USER_ROLES
2014-04-07 13:29:52,556 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Role
2014-04-07 13:29:52,556 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Role on table ROLES
2014-04-07 13:29:52,558 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Photo
2014-04-07 13:29:52,558 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Photo on table PHOTO
2014-04-07 13:29:52,562 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Photo -> USERS_PHOTOS
2014-04-07 13:29:52,562 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Estimation
2014-04-07 13:29:52,562 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Estimation on table ESTIMATION
2014-04-07 13:29:52,563 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Estimation -> USERS_ESTIMATES
2014-04-07 13:29:52,564 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Comment
2014-04-07 13:29:52,564 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Comment on table comments
2014-04-07 13:29:52,565 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Adding secondary table to entity com.selfmash.model.Comment -> USERS_COMMENTS
2014-04-07 13:29:52,565 [main] INFO  org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.selfmash.model.Relation
2014-04-07 13:29:52,566 [main] INFO  org.hibernate.cfg.annotations.EntityBinder - Bind entity com.selfmash.model.Relation on table Relation
2014-04-07 13:29:52,569 [main] INFO  org.hibernate.cfg.AnnotationConfiguration - Hibernate Validator not found: ignoring
2014-04-07 13:29:52,569 [main] INFO  org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean - Building new Hibernate SessionFactory
2014-04-07 13:29:52,572 [main] INFO  org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
2014-04-07 13:29:52,903 [main] INFO  org.hibernate.cfg.SettingsFactory - RDBMS: MySQL, version: 5.5.8
2014-04-07 13:29:52,903 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.9 ( Revision: ${svn.Revision} )
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.MySQLDialect
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.springframework.orm.hibernate3.SpringTransactionFactory
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch size: 15
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC batch updates for versioned data: disabled
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): enabled
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 2
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2014-04-07 13:29:52,904 [main] INFO  org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: disabled
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Query cache: disabled
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.NoCacheProvider
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: disabled
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: disabled
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Statistics: disabled
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2014-04-07 13:29:52,905 [main] INFO  org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2014-04-07 13:29:52,911 [main] INFO  org.hibernate.impl.SessionFactoryImpl - building session factory
2014-04-07 13:29:52,940 [main] INFO  org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2014-04-07 13:29:52,940 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update
2014-04-07 13:29:52,940 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - fetching database metadata
2014-04-07 13:29:52,950 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - updating schema
2014-04-07 13:29:52,972 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.estimation
2014-04-07 13:29:52,972 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, estimation, date, photo_id]
2014-04-07 13:29:52,973 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:29:52,973 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, primary]
2014-04-07 13:29:52,982 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.photo
2014-04-07 13:29:52,982 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, date_upload, is_account_photo, name, avarege]
2014-04-07 13:29:52,982 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:29:52,982 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:29:52,991 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.roles
2014-04-07 13:29:52,991 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, role]
2014-04-07 13:29:52,991 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:29:52,991 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:29:53,001 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.relation
2014-04-07 13:29:53,001 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, relation_name]
2014-04-07 13:29:53,001 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:29:53,001 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [id, relation_name, primary]
2014-04-07 13:29:53,012 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users
2014-04-07 13:29:53,012 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [sex, phone, birth_date, confim_reg, lastname, password, country, city, id, email, name, date_reg, login, language]
2014-04-07 13:29:53,012 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: []
2014-04-07 13:29:53,012 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary]
2014-04-07 13:29:53,021 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_comments
2014-04-07 13:29:53,021 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [users_id, user_id, comments_id]
2014-04-07 13:29:53,022 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [users_comments_ibfk_1, users_comments_ibfk_2, fk5b348e6baffbd642, fk5b348e6b99a29040]
2014-04-07 13:29:53,022 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5b348e6baffbd642, user_id, fk5b348e6b99a29040]
2014-04-07 13:29:53,030 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_estimates
2014-04-07 13:29:53,030 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, estimation_id]
2014-04-07 13:29:53,030 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk3f4dde9429c7650b, fk3f4dde946812144b]
2014-04-07 13:29:53,030 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk3f4dde9429c7650b, primary, fk3f4dde946812144b, estimation_id]
2014-04-07 13:29:53,040 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_photos
2014-04-07 13:29:53,040 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:29:53,040 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fk5e9eeb8d2c34769, fk5e9eeb829c7650b]
2014-04-07 13:29:53,040 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fk5e9eeb8d2c34769, primary, fk5e9eeb829c7650b, photo_id]
2014-04-07 13:29:53,049 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.users_preferences
2014-04-07 13:29:53,049 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [user_id, photo_id]
2014-04-07 13:29:53,049 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fka235cb01d2c34769, fka235cb0129c7650b]
2014-04-07 13:29:53,049 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fka235cb01d2c34769, primary, fka235cb0129c7650b]
2014-04-07 13:29:53,058 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.user_roles
2014-04-07 13:29:53,058 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [role_id, user_id]
2014-04-07 13:29:53,058 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [fkc6c7992929c7650b, fkc6c79929849ca12b]
2014-04-07 13:29:53,058 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [fkc6c7992929c7650b, primary, user_id, fkc6c79929849ca12b]
2014-04-07 13:29:53,067 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - table found: selfmash.comments
2014-04-07 13:29:53,067 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - columns: [id, text, date_add, photo_id]
2014-04-07 13:29:53,067 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - foreign keys: [comments_ibfk_1]
2014-04-07 13:29:53,067 [main] INFO  org.hibernate.tool.hbm2ddl.TableMetadata - indexes: [primary, photo_id]
2014-04-07 13:29:53,068 [main] INFO  org.hibernate.tool.hbm2ddl.SchemaUpdate - schema update complete
2014-04-07 13:29:53,114 [main] INFO  org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2014-04-07 13:29:53,117 [main] INFO  org.springframework.orm.hibernate3.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@a430669] of Hibernate SessionFactory for HibernateTransactionManager
2014-04-07 13:29:53,169 [main] INFO  org.springframework.web.servlet.DispatcherServlet - FrameworkServlet 'main': initialization completed in 938 ms
2014-04-07 13:30:19,144 [qtp1266289542-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:19,144 [qtp1266289542-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:20,955 [qtp1266289542-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:20,955 [qtp1266289542-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:22,788 [qtp1266289542-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:22,788 [qtp1266289542-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:23,379 [qtp1266289542-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:23,379 [qtp1266289542-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:27,148 [qtp1266289542-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:27,148 [qtp1266289542-19] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:28,827 [qtp1266289542-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:28,827 [qtp1266289542-16] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:30,054 [qtp1266289542-14] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:30,384 [qtp1266289542-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
2014-04-07 13:30:30,384 [qtp1266289542-18] INFO  com.selfmash.handler.AccountingInterceptor - Client User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.154 Safari/537.36
